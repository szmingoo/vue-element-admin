(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17810435"],{1:function(t,e){},"5e56":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-row",[n("el-col",{attrs:{align:"left",span:16}},[n("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"活动名称",size:"small"},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}}),n("el-button",{staticClass:"height32",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:t.handleFilter}},[t._v("查询")]),n("el-button",{attrs:{type:"success",align:"right"},on:{click:function(e){return t.handleSuite()}}},[t._v("一键测试")])],1)],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%","margin-top":"10px"},attrs:{size:"small",data:t.list,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"序号",type:"index",index:t.typeIndex,width:"100",align:"center"}}),n("el-table-column",{attrs:{label:"活动名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",[t._v(t._s(a.activity_name))])]}}])}),n("el-table-column",{attrs:{label:"执行次数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",[t._v(t._s(a.count))])]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){return t.handleTest(a)}}},[t._v("执行测试")])]}}])})],1)],1)},i=[],s=n("1da1"),l=(n("96cf"),n("b0c0"),n("b775"));n("4328");function r(t,e){return Object(l["a"])({url:"/api/screen/",method:"get",params:{page:e.page,limit:e.limit,name:t.name}})}function c(t){return Object(l["a"])({url:"/api/auto/",method:"post",data:t})}function o(){return Object(l["a"])({url:"/api/testsuite/",method:"post"})}var u={data:function(){return{rules:{url:[{required:!0,message:"接口地址不能为空",trigger:"blur"}]},temp:{id:void 0,adjure:""},domains:[{value:""}],tableKey:0,list:null,total:0,listLoading:!0,listQuery:{name:void 0},pageInfo:{page:1,limit:100},DialogVisible:!1,dialogFormVisible:!1,dialogStatus:""}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,r(this.listQuery,this.pageInfo).then((function(e){t.list=e.data.records,t.total=e.data.total,setTimeout((function(){t.listLoading=!1}),1e3)}))},handleFilter:function(){this.pageInfo.page=1,this.getList()},handleTest:function(t){var e=this;this.$confirm("是否自动测试该活动?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.$message({type:"success",message:"请稍等，测试完成后您将会在企微收到测试报告！"}),n.next=3,c({id:t.id});case 3:e.getList();case 4:case"end":return n.stop()}}),n)})))).catch((function(){e.$message({type:"success",message:"已取消"})}))},handleSuite:function(){var t=this;this.$confirm("是否一键测试所有活动?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$message({type:"success",message:"请稍等，测试完成后您将会在企微收到测试报告！"}),e.next=3,o();case 3:t.getList();case 4:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"success",message:"已取消"})}))},testSuite:function(){}}},d=u,p=n("2877"),m=Object(p["a"])(d,a,i,!1,null,null,null);e["default"]=m.exports}}]);