{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-3d6b08fa\"],{\"9e8e\":function(t,e,n){\"use strict\";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"app-container\"},[n(\"el-row\",{attrs:{display:\"margin-top:10px\"}},[n(\"el-input\",{staticStyle:{display:\"inline-table\",width:\"30%\",float:\"left\"},attrs:{placeholder:\"请输入书名\"},model:{value:t.input_bookname,callback:function(e){t.input_bookname=e},expression:\"input_bookname\"}}),n(\"el-button\",{staticStyle:{float:\"left\",margin:\"2px\"},attrs:{type:\"primary\"},on:{click:function(e){return t.addBook()}}},[t._v(\"新增\")])],1),n(\"el-row\",[n(\"el-table\",{attrs:{data:t.list_book,\"element-loading-text\":\"Loading\",border:\"\",fit:\"\",\"highlight-current-row\":\"\"}},[n(\"el-table-column\",{attrs:{align:\"center\",label:\"ID\",width:\"95\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s(e.row.pk)+\" \")]}}])}),n(\"el-table-column\",{attrs:{label:\"Book_name\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s(e.row.fields.book_name)+\" \")]}}])}),n(\"el-table-column\",{attrs:{label:\"Time\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"span\",[t._v(t._s(e.row.fields.add_time))])]}}])})],1)],1)],1)},a=[],r=n(\"b775\");function s(){return Object(r[\"a\"])({url:\"/api/show_books\",method:\"get\"})}function i(t){return console.log(t),Object(r[\"a\"])({url:\"/api/add_book\",method:\"post\",data:{book_name:t}})}var l={filters:{statusFilter:function(t){var e={published:\"success\",draft:\"gray\",deleted:\"danger\"};return e[t]}},data:function(){return{list_book:null,listLoading:!0,input_bookname:\"\"}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,s().then((function(e){0===e.error_num?(t.list_book=e[\"list\"],t.listLoading=!1):(t.$message.error(\"查询书籍失败\"),console.log(e[\"msg\"]))}))},addBook:function(){var t=this;i(this.input_bookname).then((function(e){0===e.error_num?(t.getList(),t.input_bookname=\"\"):(t.$message.error(\"新增书籍失败，请重试\"),console.log(e[\"msg\"]))}))}}},u=l,c=n(\"2877\"),d=Object(c[\"a\"])(u,o,a,!1,null,null,null);e[\"default\"]=d.exports},b775:function(t,e,n){\"use strict\";n(\"159b\"),n(\"b64b\"),n(\"d3b7\");var o=n(\"bc3a\"),a=n.n(o),r=n(\"5c96\"),s=n(\"4360\"),i=n(\"5f87\"),l=a.a.create({baseURL:\"/prod-api\",timeout:5e3});l.interceptors.request.use((function(t){if(\"post\"===t.method){var e=new FormData;Object.keys(t.data).forEach((function(n){return e.append(n,t.data[n])})),t.data=e}return s[\"a\"].getters.token&&(t.headers[\"Authentication\"]=Object(i[\"a\"])()),t.headers[\"Content-Type\"]=\"application/json\",t}),(function(t){return console.log(t),Promise.reject(t)})),l.interceptors.response.use((function(t){var e=t.data;return e}),(function(t){return console.log(\"err\"+t),Object(r[\"Message\"])({message:t.message,type:\"error\",duration:5e3}),Promise.reject(t)})),e[\"a\"]=l}}]);","extractedComments":[]}