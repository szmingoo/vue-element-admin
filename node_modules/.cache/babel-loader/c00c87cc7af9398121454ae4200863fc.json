{"remainingRequest":"C:\\code\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\code\\vue-element-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\code\\vue-element-admin\\mock\\index.js","dependencies":[{"path":"C:\\code\\vue-element-admin\\mock\\index.js","mtime":1632644191684},{"path":"C:\\code\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\code\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\code\\vue-element-admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyID0gcmVxdWlyZSgiQzovY29kZS92dWUtZWxlbWVudC1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIikuZGVmYXVsdDsKCnZhciBfdG9Db25zdW1hYmxlQXJyYXkgPSByZXF1aXJlKCJDOi9jb2RlL3Z1ZS1lbGVtZW50LWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5IikuZGVmYXVsdDsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiKTsKCnZhciBNb2NrID0gcmVxdWlyZSgnbW9ja2pzJyk7Cgp2YXIgX3JlcXVpcmUgPSByZXF1aXJlKCcuL3V0aWxzJyksCiAgICBwYXJhbTJPYmogPSBfcmVxdWlyZS5wYXJhbTJPYmo7Cgp2YXIgdXNlciA9IHJlcXVpcmUoJy4vdXNlcicpOwoKdmFyIHJvbGUgPSByZXF1aXJlKCcuL3JvbGUnKTsKCnZhciBhcnRpY2xlID0gcmVxdWlyZSgnLi9hcnRpY2xlJyk7Cgp2YXIgc2VhcmNoID0gcmVxdWlyZSgnLi9yZW1vdGUtc2VhcmNoJyk7Cgp2YXIgbW9ja3MgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHVzZXIpLCBfdG9Db25zdW1hYmxlQXJyYXkocm9sZSksIF90b0NvbnN1bWFibGVBcnJheShhcnRpY2xlKSwgX3RvQ29uc3VtYWJsZUFycmF5KHNlYXJjaCkpOyAvLyBmb3IgZnJvbnQgbW9jawovLyBwbGVhc2UgdXNlIGl0IGNhdXRpb3VzbHksIGl0IHdpbGwgcmVkZWZpbmUgWE1MSHR0cFJlcXVlc3QsCi8vIHdoaWNoIHdpbGwgY2F1c2UgbWFueSBvZiB5b3VyIHRoaXJkLXBhcnR5IGxpYnJhcmllcyB0byBiZSBpbnZhbGlkYXRlZChsaWtlIHByb2dyZXNzIGV2ZW50KS4KCmZ1bmN0aW9uIG1vY2tYSFIoKSB7CiAgLy8gbW9jayBwYXRjaAogIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9udXlzb2Z0L01vY2svaXNzdWVzLzMwMAogIE1vY2suWEhSLnByb3RvdHlwZS5wcm94eV9zZW5kID0gTW9jay5YSFIucHJvdG90eXBlLnNlbmQ7CgogIE1vY2suWEhSLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuY3VzdG9tLnhocikgewogICAgICB0aGlzLmN1c3RvbS54aHIud2l0aENyZWRlbnRpYWxzID0gdGhpcy53aXRoQ3JlZGVudGlhbHMgfHwgZmFsc2U7CgogICAgICBpZiAodGhpcy5yZXNwb25zZVR5cGUpIHsKICAgICAgICB0aGlzLmN1c3RvbS54aHIucmVzcG9uc2VUeXBlID0gdGhpcy5yZXNwb25zZVR5cGU7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLnByb3h5X3NlbmQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9OwoKICBmdW5jdGlvbiBYSFIyRXhwcmVzc1JlcVdyYXAocmVzcG9uZCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChvcHRpb25zKSB7CiAgICAgIHZhciByZXN1bHQgPSBudWxsOwoKICAgICAgaWYgKHJlc3BvbmQgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5LAogICAgICAgICAgICB0eXBlID0gb3B0aW9ucy50eXBlLAogICAgICAgICAgICB1cmwgPSBvcHRpb25zLnVybDsgLy8gaHR0cHM6Ly9leHByZXNzanMuY29tL2VuLzR4L2FwaS5odG1sI3JlcQoKICAgICAgICByZXN1bHQgPSByZXNwb25kKHsKICAgICAgICAgIG1ldGhvZDogdHlwZSwKICAgICAgICAgIGJvZHk6IEpTT04ucGFyc2UoYm9keSksCiAgICAgICAgICBxdWVyeTogcGFyYW0yT2JqKHVybCkKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHQgPSByZXNwb25kOwogICAgICB9CgogICAgICByZXR1cm4gTW9jay5tb2NrKHJlc3VsdCk7CiAgICB9OwogIH0KCiAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG1vY2tzKSwKICAgICAgX3N0ZXA7CgogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICB2YXIgaSA9IF9zdGVwLnZhbHVlOwogICAgICBNb2NrLm1vY2sobmV3IFJlZ0V4cChpLnVybCksIGkudHlwZSB8fCAnZ2V0JywgWEhSMkV4cHJlc3NSZXFXcmFwKGkucmVzcG9uc2UpKTsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvci5lKGVycik7CiAgfSBmaW5hbGx5IHsKICAgIF9pdGVyYXRvci5mKCk7CiAgfQp9Cgptb2R1bGUuZXhwb3J0cyA9IHsKICBtb2NrczogbW9ja3MsCiAgbW9ja1hIUjogbW9ja1hIUgp9Ow=="},{"version":3,"sources":["C:/code/vue-element-admin/mock/index.js"],"names":["Mock","require","param2Obj","user","role","article","search","mocks","mockXHR","XHR","prototype","proxy_send","send","custom","xhr","withCredentials","responseType","arguments","XHR2ExpressReqWrap","respond","options","result","Function","body","type","url","method","JSON","parse","query","mock","i","RegExp","response","module","exports"],"mappings":";;;;;;;;;;;;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,QAAD,CAApB;;AACA,eAAsBA,OAAO,CAAC,SAAD,CAA7B;AAAA,IAAQC,SAAR,YAAQA,SAAR;;AAEA,IAAMC,IAAI,GAAGF,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMG,IAAI,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMI,OAAO,GAAGJ,OAAO,CAAC,WAAD,CAAvB;;AACA,IAAMK,MAAM,GAAGL,OAAO,CAAC,iBAAD,CAAtB;;AAEA,IAAMM,KAAK,gCACNJ,IADM,sBAENC,IAFM,sBAGNC,OAHM,sBAINC,MAJM,EAAX,C,CAOA;AACA;AACA;;AACA,SAASE,OAAT,GAAmB;AACjB;AACA;AACAR,EAAAA,IAAI,CAACS,GAAL,CAASC,SAAT,CAAmBC,UAAnB,GAAgCX,IAAI,CAACS,GAAL,CAASC,SAAT,CAAmBE,IAAnD;;AACAZ,EAAAA,IAAI,CAACS,GAAL,CAASC,SAAT,CAAmBE,IAAnB,GAA0B,YAAW;AACnC,QAAI,KAAKC,MAAL,CAAYC,GAAhB,EAAqB;AACnB,WAAKD,MAAL,CAAYC,GAAZ,CAAgBC,eAAhB,GAAkC,KAAKA,eAAL,IAAwB,KAA1D;;AAEA,UAAI,KAAKC,YAAT,EAAuB;AACrB,aAAKH,MAAL,CAAYC,GAAZ,CAAgBE,YAAhB,GAA+B,KAAKA,YAApC;AACD;AACF;;AACD,SAAKL,UAAL,aAAmBM,SAAnB;AACD,GATD;;AAWA,WAASC,kBAAT,CAA4BC,OAA5B,EAAqC;AACnC,WAAO,UAASC,OAAT,EAAkB;AACvB,UAAIC,MAAM,GAAG,IAAb;;AACA,UAAIF,OAAO,YAAYG,QAAvB,EAAiC;AAC/B,YAAQC,IAAR,GAA4BH,OAA5B,CAAQG,IAAR;AAAA,YAAcC,IAAd,GAA4BJ,OAA5B,CAAcI,IAAd;AAAA,YAAoBC,GAApB,GAA4BL,OAA5B,CAAoBK,GAApB,CAD+B,CAE/B;;AACAJ,QAAAA,MAAM,GAAGF,OAAO,CAAC;AACfO,UAAAA,MAAM,EAAEF,IADO;AAEfD,UAAAA,IAAI,EAAEI,IAAI,CAACC,KAAL,CAAWL,IAAX,CAFS;AAGfM,UAAAA,KAAK,EAAE3B,SAAS,CAACuB,GAAD;AAHD,SAAD,CAAhB;AAKD,OARD,MAQO;AACLJ,QAAAA,MAAM,GAAGF,OAAT;AACD;;AACD,aAAOnB,IAAI,CAAC8B,IAAL,CAAUT,MAAV,CAAP;AACD,KAdD;AAeD;;AA/BgB,6CAiCDd,KAjCC;AAAA;;AAAA;AAiCjB,wDAAuB;AAAA,UAAZwB,CAAY;AACrB/B,MAAAA,IAAI,CAAC8B,IAAL,CAAU,IAAIE,MAAJ,CAAWD,CAAC,CAACN,GAAb,CAAV,EAA6BM,CAAC,CAACP,IAAF,IAAU,KAAvC,EAA8CN,kBAAkB,CAACa,CAAC,CAACE,QAAH,CAAhE;AACD;AAnCgB;AAAA;AAAA;AAAA;AAAA;AAoClB;;AAEDC,MAAM,CAACC,OAAP,GAAiB;AACf5B,EAAAA,KAAK,EAALA,KADe;AAEfC,EAAAA,OAAO,EAAPA;AAFe,CAAjB","sourcesContent":["const Mock = require('mockjs')\r\nconst { param2Obj } = require('./utils')\r\n\r\nconst user = require('./user')\r\nconst role = require('./role')\r\nconst article = require('./article')\r\nconst search = require('./remote-search')\r\n\r\nconst mocks = [\r\n  ...user,\r\n  ...role,\r\n  ...article,\r\n  ...search\r\n]\r\n\r\n// for front mock\r\n// please use it cautiously, it will redefine XMLHttpRequest,\r\n// which will cause many of your third-party libraries to be invalidated(like progress event).\r\nfunction mockXHR() {\r\n  // mock patch\r\n  // https://github.com/nuysoft/Mock/issues/300\r\n  Mock.XHR.prototype.proxy_send = Mock.XHR.prototype.send\r\n  Mock.XHR.prototype.send = function() {\r\n    if (this.custom.xhr) {\r\n      this.custom.xhr.withCredentials = this.withCredentials || false\r\n\r\n      if (this.responseType) {\r\n        this.custom.xhr.responseType = this.responseType\r\n      }\r\n    }\r\n    this.proxy_send(...arguments)\r\n  }\r\n\r\n  function XHR2ExpressReqWrap(respond) {\r\n    return function(options) {\r\n      let result = null\r\n      if (respond instanceof Function) {\r\n        const { body, type, url } = options\r\n        // https://expressjs.com/en/4x/api.html#req\r\n        result = respond({\r\n          method: type,\r\n          body: JSON.parse(body),\r\n          query: param2Obj(url)\r\n        })\r\n      } else {\r\n        result = respond\r\n      }\r\n      return Mock.mock(result)\r\n    }\r\n  }\r\n\r\n  for (const i of mocks) {\r\n    Mock.mock(new RegExp(i.url), i.type || 'get', XHR2ExpressReqWrap(i.response))\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  mocks,\r\n  mockXHR\r\n}\r\n"]}]}