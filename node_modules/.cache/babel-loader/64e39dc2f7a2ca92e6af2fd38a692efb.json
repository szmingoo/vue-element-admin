{"remainingRequest":"D:\\code\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\vue-element-admin\\src\\components\\MarkdownEditor\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\code\\vue-element-admin\\src\\components\\MarkdownEditor\\index.vue","mtime":1670579278529},{"path":"D:\\code\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500371},{"path":"D:\\code\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532801399},{"path":"D:\\code\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500371},{"path":"D:\\code\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovY29kZS92dWUtZWxlbWVudC1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7Ci8vCi8vCi8vCi8vCgovLyBkZXBzIGZvciBlZGl0b3IKaW1wb3J0ICdjb2RlbWlycm9yL2xpYi9jb2RlbWlycm9yLmNzcyc7IC8vIGNvZGVtaXJyb3IKaW1wb3J0ICd0dWktZWRpdG9yL2Rpc3QvdHVpLWVkaXRvci5jc3MnOyAvLyBlZGl0b3IgdWkKaW1wb3J0ICd0dWktZWRpdG9yL2Rpc3QvdHVpLWVkaXRvci1jb250ZW50cy5jc3MnOyAvLyBlZGl0b3IgY29udGVudAoKaW1wb3J0IEVkaXRvciBmcm9tICd0dWktZWRpdG9yJzsKaW1wb3J0IGRlZmF1bHRPcHRpb25zIGZyb20gJy4vZGVmYXVsdC1vcHRpb25zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNYXJrZG93bkVkaXRvcicsCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuICdtYXJrZG93bi1lZGl0b3ItJyArICtuZXcgRGF0ZSgpICsgKChNYXRoLnJhbmRvbSgpICogMTAwMCkudG9GaXhlZCgwKSArICcnKTsKICAgICAgfQogICAgfSwKICAgIG9wdGlvbnM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gZGVmYXVsdE9wdGlvbnM7CiAgICAgIH0KICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ21hcmtkb3duJwogICAgfSwKICAgIGhlaWdodDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJzMwMHB4JwogICAgfSwKICAgIGxhbmd1YWdlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnZW5fVVMnIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9uaG5lbnQvdHVpLmVkaXRvci90cmVlL21hc3Rlci9zcmMvanMvbGFuZ3MKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlZGl0b3I6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZWRpdG9yT3B0aW9uczogZnVuY3Rpb24gZWRpdG9yT3B0aW9ucygpIHsKICAgICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgdGhpcy5vcHRpb25zKTsKICAgICAgb3B0aW9ucy5pbml0aWFsRWRpdFR5cGUgPSB0aGlzLm1vZGU7CiAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7CiAgICAgIG9wdGlvbnMubGFuZ3VhZ2UgPSB0aGlzLmxhbmd1YWdlOwogICAgICByZXR1cm4gb3B0aW9uczsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUobmV3VmFsdWUsIHByZVZhbHVlKSB7CiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gcHJlVmFsdWUgJiYgbmV3VmFsdWUgIT09IHRoaXMuZWRpdG9yLmdldFZhbHVlKCkpIHsKICAgICAgICB0aGlzLmVkaXRvci5zZXRWYWx1ZShuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBsYW5ndWFnZTogZnVuY3Rpb24gbGFuZ3VhZ2UodmFsKSB7CiAgICAgIHRoaXMuZGVzdHJveUVkaXRvcigpOwogICAgICB0aGlzLmluaXRFZGl0b3IoKTsKICAgIH0sCiAgICBoZWlnaHQ6IGZ1bmN0aW9uIGhlaWdodChuZXdWYWx1ZSkgewogICAgICB0aGlzLmVkaXRvci5oZWlnaHQobmV3VmFsdWUpOwogICAgfSwKICAgIG1vZGU6IGZ1bmN0aW9uIG1vZGUobmV3VmFsdWUpIHsKICAgICAgdGhpcy5lZGl0b3IuY2hhbmdlTW9kZShuZXdWYWx1ZSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0RWRpdG9yKCk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMuZGVzdHJveUVkaXRvcigpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdEVkaXRvcjogZnVuY3Rpb24gaW5pdEVkaXRvcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5lZGl0b3IgPSBuZXcgRWRpdG9yKF9vYmplY3RTcHJlYWQoewogICAgICAgIGVsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKQogICAgICB9LCB0aGlzLmVkaXRvck9wdGlvbnMpKTsKICAgICAgaWYgKHRoaXMudmFsdWUpIHsKICAgICAgICB0aGlzLmVkaXRvci5zZXRWYWx1ZSh0aGlzLnZhbHVlKTsKICAgICAgfQogICAgICB0aGlzLmVkaXRvci5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRlbWl0KCdpbnB1dCcsIF90aGlzLmVkaXRvci5nZXRWYWx1ZSgpKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVzdHJveUVkaXRvcjogZnVuY3Rpb24gZGVzdHJveUVkaXRvcigpIHsKICAgICAgaWYgKCF0aGlzLmVkaXRvcikgcmV0dXJuOwogICAgICB0aGlzLmVkaXRvci5vZmYoJ2NoYW5nZScpOwogICAgICB0aGlzLmVkaXRvci5yZW1vdmUoKTsKICAgIH0sCiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHsKICAgICAgdGhpcy5lZGl0b3Iuc2V0VmFsdWUodmFsdWUpOwogICAgfSwKICAgIGdldFZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZWRpdG9yLmdldFZhbHVlKCk7CiAgICB9LAogICAgc2V0SHRtbDogZnVuY3Rpb24gc2V0SHRtbCh2YWx1ZSkgewogICAgICB0aGlzLmVkaXRvci5zZXRIdG1sKHZhbHVlKTsKICAgIH0sCiAgICBnZXRIdG1sOiBmdW5jdGlvbiBnZXRIdG1sKCkgewogICAgICByZXR1cm4gdGhpcy5lZGl0b3IuZ2V0SHRtbCgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div :id=\"id\" />\r\n</template>\r\n\r\n<script>\r\n// deps for editor\r\nimport 'codemirror/lib/codemirror.css' // codemirror\r\nimport 'tui-editor/dist/tui-editor.css' // editor ui\r\nimport 'tui-editor/dist/tui-editor-contents.css' // editor content\r\n\r\nimport Editor from 'tui-editor'\r\nimport defaultOptions from './default-options'\r\n\r\nexport default {\r\n  name: 'MarkdownEditor',\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    id: {\r\n      type: String,\r\n      required: false,\r\n      default() {\r\n        return 'markdown-editor-' + +new Date() + ((Math.random() * 1000).toFixed(0) + '')\r\n      }\r\n    },\r\n    options: {\r\n      type: Object,\r\n      default() {\r\n        return defaultOptions\r\n      }\r\n    },\r\n    mode: {\r\n      type: String,\r\n      default: 'markdown'\r\n    },\r\n    height: {\r\n      type: String,\r\n      required: false,\r\n      default: '300px'\r\n    },\r\n    language: {\r\n      type: String,\r\n      required: false,\r\n      default: 'en_US' // https://github.com/nhnent/tui.editor/tree/master/src/js/langs\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      editor: null\r\n    }\r\n  },\r\n  computed: {\r\n    editorOptions() {\r\n      const options = Object.assign({}, defaultOptions, this.options)\r\n      options.initialEditType = this.mode\r\n      options.height = this.height\r\n      options.language = this.language\r\n      return options\r\n    }\r\n  },\r\n  watch: {\r\n    value(newValue, preValue) {\r\n      if (newValue !== preValue && newValue !== this.editor.getValue()) {\r\n        this.editor.setValue(newValue)\r\n      }\r\n    },\r\n    language(val) {\r\n      this.destroyEditor()\r\n      this.initEditor()\r\n    },\r\n    height(newValue) {\r\n      this.editor.height(newValue)\r\n    },\r\n    mode(newValue) {\r\n      this.editor.changeMode(newValue)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initEditor()\r\n  },\r\n  destroyed() {\r\n    this.destroyEditor()\r\n  },\r\n  methods: {\r\n    initEditor() {\r\n      this.editor = new Editor({\r\n        el: document.getElementById(this.id),\r\n        ...this.editorOptions\r\n      })\r\n      if (this.value) {\r\n        this.editor.setValue(this.value)\r\n      }\r\n      this.editor.on('change', () => {\r\n        this.$emit('input', this.editor.getValue())\r\n      })\r\n    },\r\n    destroyEditor() {\r\n      if (!this.editor) return\r\n      this.editor.off('change')\r\n      this.editor.remove()\r\n    },\r\n    setValue(value) {\r\n      this.editor.setValue(value)\r\n    },\r\n    getValue() {\r\n      return this.editor.getValue()\r\n    },\r\n    setHtml(value) {\r\n      this.editor.setHtml(value)\r\n    },\r\n    getHtml() {\r\n      return this.editor.getHtml()\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/MarkdownEditor"}]}