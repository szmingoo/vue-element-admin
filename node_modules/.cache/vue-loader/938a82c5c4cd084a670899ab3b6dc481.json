{"remainingRequest":"D:\\code\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\vue-element-admin\\src\\views\\auto\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\vue-element-admin\\src\\views\\auto\\index.vue","mtime":1670579279256},{"path":"D:\\code\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\code\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7ZGljdERldGFpbExpc3QsYXV0b1Rlc3R9IGZyb20gJ0AvYXBpL2F1dG8nICAgLy8g5byV5YWl6LCD55SoYXBpCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZG9tYWluczogW3sKICAgICAgICB2YWx1ZTogJycKICAgICAgfV0sCiAgICAgIHRhYmxlS2V5OiAwLAogICAgICBsaXN0OiBudWxsLAogICAgICB0b3RhbDogMCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGxpc3RRdWVyeTogewogICAgICAgIG5hbWU6IHVuZGVmaW5lZCwKICAgICAgfSwKICAgICAgcGFnZUluZm86IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxMDAKICAgICAgfSwKICAgICAgRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlCiAgICAgIGRpY3REZXRhaWxMaXN0KHRoaXMubGlzdFF1ZXJ5LCB0aGlzLnBhZ2VJbmZvKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLnJlY29yZHMKICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbAogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlCiAgICAgICAgfSwgMSAqIDEwMDApCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlRmlsdGVyKCkgewogICAgICB0aGlzLnBhZ2VJbmZvLnBhZ2UgPSAxCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgcmVzZXRUZW1wKCkgewogICAgICB0aGlzLnRlbXAgPSB7CiAgICAgICAgbmFtZTogJycsCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVUZXN0KHJvdykgewogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7lrproh6rliqjmtYvor5Xor6XmtLvliqg/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICB9KS50aGVuKGFzeW5jICgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHt0eXBlOiAnc3VjY2VzcycsIG1lc3NhZ2U6ICfnqI3lkI7lsIbkvJrlnKjkvIHkuJrlvq7kv6HnvqTogYrkuK3lj5HpgIHmtYvor5XmiqXlkYrvvIEnfSkKICAgICAgICBhd2FpdCBhdXRvVGVzdCh7ImlkIjpyb3cuaWR9KTsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2Uoe3R5cGU6ICdzdWNjZXNzJywgbWVzc2FnZTogJ+W3suWPlua2iOa1i+ivlSd9KQogICAgICB9KQogICAgfSwKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/auto","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"filter-container\">\r\n      <el-row>\r\n        <el-col align=\"left\" :span=\"16\">\r\n          <el-input v-model=\"listQuery.name\" placeholder=\"活动名称\" style=\"width: 250px; \" size=\"small\"/>\r\n          <el-button type=\"primary\" class=\"height32\" icon=\"el-icon-search\" style=\"margin-left: 10px;\" size=\"small\"\r\n                     @click=\"handleFilter\">查询\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <el-table size=\"small\" :key=\"tableKey\" v-loading=\"listLoading\" :data=\"list\" border fit highlight-current-row\r\n              style=\"width: 100%; margin-top: 10px;\">\r\n      <el-table-column label=\"序号\" type=\"index\" :index=\"typeIndex\" width=\"100\"  align=\"center\"/>\r\n      <el-table-column label=\"活动名称\" align=\"center\">\r\n        <template slot-scope=\"{row}\"><span>{{ row.activity_name }}</span></template>\r\n      </el-table-column>\r\n      <el-table-column label=\"执行次数\" align=\"center\">\r\n        <template slot-scope=\"{row}\"><span>{{ row.count }}</span></template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n        <template slot-scope=\"{row}\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"handleTest(row)\" plain>执行测试</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {dictDetailList,autoTest} from '@/api/auto'   // 引入调用api\r\n  export default {\r\n    data() {\r\n      return {\r\n        domains: [{\r\n          value: ''\r\n        }],\r\n        tableKey: 0,\r\n        list: null,\r\n        total: 0,\r\n        listLoading: true,\r\n        listQuery: {\r\n          name: undefined,\r\n        },\r\n        pageInfo: {\r\n          page: 1,\r\n          limit: 100\r\n        },\r\n        DialogVisible: false,\r\n      }\r\n    },\r\n    created() {\r\n      this.getList()\r\n    },\r\n    methods: {\r\n      getList() {\r\n        this.listLoading = true\r\n        dictDetailList(this.listQuery, this.pageInfo).then(response => {\r\n          this.list = response.data.records\r\n          this.total = response.data.total\r\n          setTimeout(() => {\r\n            this.listLoading = false\r\n          }, 1 * 1000)\r\n        })\r\n      },\r\n      handleFilter() {\r\n        this.pageInfo.page = 1\r\n        this.getList()\r\n      },\r\n      resetTemp() {\r\n        this.temp = {\r\n          name: '',\r\n        }\r\n      },\r\n      handleTest(row) {\r\n        this.$confirm('是否确定自动测试该活动?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'info',\r\n        }).then(async () => {\r\n          this.$message({type: 'success', message: '稍后将会在企业微信群聊中发送测试报告！'})\r\n          await autoTest({\"id\":row.id});\r\n          this.getList();\r\n        }).catch(() => {\r\n          this.$message({type: 'success', message: '已取消测试'})\r\n        })\r\n      },\r\n    }\r\n  }\r\n</script>\r\n"]}]}