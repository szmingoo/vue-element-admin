{"remainingRequest":"C:\\CODE\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\CODE\\vue-element-admin\\src\\views\\book\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\CODE\\vue-element-admin\\src\\views\\book\\index.vue","mtime":1636210342362},{"path":"C:\\CODE\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\CODE\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\CODE\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\CODE\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgZ2V0TGlzdCwKICBhZGRib29rCn0gZnJvbSAnQC9hcGkvYm9vaycKCmV4cG9ydCBkZWZhdWx0IHsKICBmaWx0ZXJzOiB7CiAgICBzdGF0dXNGaWx0ZXIoc3RhdHVzKSB7CiAgICAgIGNvbnN0IHN0YXR1c01hcCA9IHsKICAgICAgICBwdWJsaXNoZWQ6ICdzdWNjZXNzJywKICAgICAgICBkcmFmdDogJ2dyYXknLAogICAgICAgIGRlbGV0ZWQ6ICdkYW5nZXInCiAgICAgIH0KICAgICAgcmV0dXJuIHN0YXR1c01hcFtzdGF0dXNdCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdF9ib29rOiBudWxsLAogICAgICBsaXN0TG9hZGluZzogdHJ1ZSwKICAgICAgaW5wdXRfYm9va25hbWU6ICcnCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlCiAgICAgIGdldExpc3QoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JfbnVtID09PSAwKSB7CiAgICAgICAgICB0aGlzLmxpc3RfYm9vayA9IHJlc3BvbnNlWydsaXN0J10KICAgICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmn6Xor6LkuabnsY3lpLHotKUnKQogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2VbJ21zZyddKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBhZGRCb29rKCkgewogICAgICBhZGRib29rKHRoaXMuaW5wdXRfYm9va25hbWUpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5lcnJvcl9udW0gPT09IDApIHsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgICB0aGlzLmlucHV0X2Jvb2tuYW1lID0gJycKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5paw5aKe5Lmm57GN5aSx6LSl77yM6K+36YeN6K+VJykKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlWydtc2cnXSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/book","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-row display=\"margin-top:10px\">\n      <el-input v-model=\"input_bookname\" placeholder=\"请输入书名\" style=\"display:inline-table; width: 30%; float:left\"></el-input>\n      <el-button type=\"primary\" @click=\"addBook()\" style=\"float:left; margin: 2px;\">新增</el-button>\n    </el-row>\n    <el-row>\n      <el-table :data=\"list_book\" element-loading-text=\"Loading\" border fit highlight-current-row>\n        <el-table-column align=\"center\" label=\"ID\" width=\"95\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.pk }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Book_name\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.fields.book_name }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Time\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.fields.add_time }}</span>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-row>\n  </div>\n</template>\n\n<script>\n  import {\n    getList,\n    addbook\n  } from '@/api/book'\n\n  export default {\n    filters: {\n      statusFilter(status) {\n        const statusMap = {\n          published: 'success',\n          draft: 'gray',\n          deleted: 'danger'\n        }\n        return statusMap[status]\n      }\n    },\n    data() {\n      return {\n        list_book: null,\n        listLoading: true,\n        input_bookname: ''\n      }\n    },\n    created() {\n      this.getList()\n    },\n    methods: {\n      getList() {\n        this.listLoading = true\n        getList().then(response => {\n          if (response.error_num === 0) {\n            this.list_book = response['list']\n            this.listLoading = false\n          } else {\n            this.$message.error('查询书籍失败')\n            console.log(response['msg'])\n          }\n        })\n      },\n      addBook() {\n        addbook(this.input_bookname).then(response => {\n          if (response.error_num === 0) {\n            this.getList()\n            this.input_bookname = ''\n          } else {\n            this.$message.error('新增书籍失败，请重试')\n            console.log(response['msg'])\n          }\n        })\n      }\n    }\n  }\n</script>\n"]}]}