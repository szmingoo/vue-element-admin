{"remainingRequest":"D:\\code\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\vue-element-admin\\src\\views\\auto\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\code\\vue-element-admin\\src\\views\\auto\\index.vue","mtime":1681273699359},{"path":"D:\\code\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500371},{"path":"D:\\code\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532801399},{"path":"D:\\code\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500371},{"path":"D:\\code\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7ZGljdERldGFpbExpc3QsYXV0b1Rlc3QsYXV0b1N1aXRlfSBmcm9tICdAL2FwaS9hdXRvJyAgIC8vIOW8leWFpeiwg+eUqGFwaQpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJ1bGVzOiB7ICAgIC8v5paw5aKe5L+u5pS55L+d5a2Y5pe2IOagoemqjOinhOWImQogICAgICAgIHVybDogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+aOpeWPo+WcsOWdgOS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJ31dLAogICAgICB9LAogICAgICB0ZW1wOiB7ICAvL+aWsOWini/kv67mlLl0ZW1wCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICBhZGp1cmU6ICcnCiAgICAgIH0sCiAgICAgIGRvbWFpbnM6IFt7CiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH1dLAogICAgICB0YWJsZUtleTogMCwKICAgICAgbGlzdDogbnVsbCwKICAgICAgdG90YWw6IDAsCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICBsaXN0UXVlcnk6IHsKICAgICAgICBuYW1lOiB1bmRlZmluZWQsCiAgICAgIH0sCiAgICAgIHBhZ2VJbmZvOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTAwCiAgICAgIH0sCiAgICAgIERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsICAvL+aWsOWinuS/ruaUueW8ueWHuuahhgogICAgICBkaWFsb2dTdGF0dXM6ICcnLAkgIC8v5by55Ye65qGGIOaYvuekuumakOiXj+aOp+WItgogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMaXN0KCkgewogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZQogICAgICBkaWN0RGV0YWlsTGlzdCh0aGlzLmxpc3RRdWVyeSwgdGhpcy5wYWdlSW5mbykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzCiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWwKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICAgIH0sIDEgKiAxMDAwKQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZUZpbHRlcigpIHsKICAgICAgdGhpcy5wYWdlSW5mby5wYWdlID0gMQogICAgICB0aGlzLmdldExpc3QoKQogICAgfSwKICAgIGhhbmRsZVRlc3Qocm93KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuiHquWKqOa1i+ivleivpea0u+WKqD8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgIH0pLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2Uoe3R5cGU6ICdzdWNjZXNzJywgbWVzc2FnZTogJ+ivt+eojeetie+8jOa1i+ivleWujOaIkOWQjuaCqOWwhuS8muWcqOS8geW+ruaUtuWIsOa1i+ivleaKpeWRiu+8gSd9KQogICAgICAgIGF3YWl0IGF1dG9UZXN0KHsiaWQiOnJvdy5pZH0pOwogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgLy8gdGhpcy4kbWVzc2FnZSh7dHlwZTogJ3N1Y2Nlc3MnLCBtZXNzYWdlOiAn5bey5Y+W5raIJ30pCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlU3VpdGUoKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuS4gOmUrua1i+ivleaJgOaciea0u+WKqD8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgIH0pLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2Uoe3R5cGU6ICdzdWNjZXNzJywgbWVzc2FnZTogJ+ivt+eojeetie+8jOa1i+ivleWujOaIkOWQjuaCqOWwhuS8muWcqOS8geW+ruaUtuWIsOa1i+ivleaKpeWRiu+8gSd9KQogICAgICAgIGF3YWl0IGF1dG9TdWl0ZSgpOwogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgLy8gdGhpcy4kbWVzc2FnZSh7dHlwZTogJ3N1Y2Nlc3MnLCBtZXNzYWdlOiAn5bey5Y+W5raIJ30pCiAgICAgIH0pCiAgICB9LAogICAgLy8gaGFuZGxlU3VpdGUoKSB7CiAgICAvLyAgIHRoaXMuZGlhbG9nU3RhdHVzID0gJ2NyZWF0ZScKICAgIC8vICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUKICAgIC8vIH0sCiAgICB0ZXN0U3VpdGUoKSB7CiAgICAgIC8vIHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10udmFsaWRhdGUoYXN5bmMgKCkgPT57CiAgICAgIC8vICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UKICAgICAgLy8gICAgIGlmKHRoaXMudGVtcC5hZGp1cmU9PScnKQogICAgICAvLyAgICAge3RoaXMuJG1lc3NhZ2Uoe3R5cGU6ICdzdWNjZXNzJywgbWVzc2FnZTogJ+eojeWQjuWwhuS8muWcqOS8geS4muW+ruS/oee+pOiBiuS4reWPkemAgea1i+ivleaKpeWRiid9KX0KICAgICAgLy8gICAgIGVsc2UKICAgICAgLy8gICAgIHt0aGlzLiRtZXNzYWdlKHt0eXBlOiAnc3VjY2VzcycsIG1lc3NhZ2U6ICflsIblnKjorr7nva7nmoTml7bpl7Tov5DooYzvvIzlubblnKjkvIHkuJrlvq7kv6HnvqTogYrkuK3lj5HpgIHmtYvor5XmiqXlkYonfSl9CiAgICAgIC8vICAgICBhd2FpdCBhdXRvU3VpdGUodGhpcy50ZW1wKQogICAgICAvLyAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgLy8gICB9KQogICAgfSwKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/auto","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-row>\n        <el-col align=\"left\" :span=\"16\">\n          <el-input v-model=\"listQuery.name\" placeholder=\"活动名称\" style=\"width: 250px; \" size=\"small\"/>\n          <el-button type=\"primary\" class=\"height32\" icon=\"el-icon-search\" style=\"margin-left: 10px;\" size=\"small\" @click=\"handleFilter\">查询</el-button>\n          <!--<el-button type=\"success\" @click=\"handleSuite()\" align=\"right\">一键测试</el-button>-->\n          <el-button type=\"success\" @click=\"handleSuite()\" align=\"right\">一键测试</el-button>\n        </el-col>\n      </el-row>\n    </div>\n    <el-table size=\"small\" :key=\"tableKey\" v-loading=\"listLoading\" :data=\"list\" border fit highlight-current-row\n              style=\"width: 100%; margin-top: 10px;\">\n      <el-table-column label=\"序号\" type=\"index\" :index=\"typeIndex\" width=\"100\"  align=\"center\"/>\n      <el-table-column label=\"活动名称\" align=\"center\">\n        <template slot-scope=\"{row}\"><span>{{ row.activity_name }}</span></template>\n      </el-table-column>\n      <el-table-column label=\"执行次数\" align=\"center\">\n        <template slot-scope=\"{row}\"><span>{{ row.count }}</span></template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"{row}\">\n          <el-button type=\"primary\" size=\"small\" @click=\"handleTest(row)\" plain>执行测试</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--<el-dialog title=\"一键运行\" :visible.sync=\"dialogFormVisible\" width=\"20%\" center >-->\n      <!--<el-form ref=\"dataForm\" :rules=\"rules\" :model=\"temp\" label-width=auto label-position=\"top\">-->\n        <!--<el-form-item size=\"\tmedium\" prop=\"data\">-->\n          <!--<el-input v-model=\"temp.adjure\" :rows=7 type=\"textarea\" placeholder=\"1、如果不输入，则会立即运行；-->\n  <!--2、请输入定时时间,例每天凌晨两点10执行任务 (秒 分 时 日 月 星期 年)，参数值：* 10 2 * * * *\"/>-->\n        <!--</el-form-item>-->\n      <!--</el-form>-->\n      <!--<div class=\"dialog-footer\" align=\"center\">-->\n        <!--<el-button type=\"primary\" size=\"small\" @click=\"dialogStatus=testSuite()\">保存</el-button>-->\n        <!--<el-button size=\"small\" @click=\"dialogFormVisible = false\">关闭</el-button>-->\n      <!--</div>-->\n    <!--</el-dialog>-->\n  </div>\n</template>\n\n<script>\n  import {dictDetailList,autoTest,autoSuite} from '@/api/auto'   // 引入调用api\n  export default {\n    data() {\n      return {\n        rules: {    //新增修改保存时 校验规则\n          url: [{required: true, message: '接口地址不能为空', trigger: 'blur'}],\n        },\n        temp: {  //新增/修改temp\n          id: undefined,\n          adjure: ''\n        },\n        domains: [{\n          value: ''\n        }],\n        tableKey: 0,\n        list: null,\n        total: 0,\n        listLoading: true,\n        listQuery: {\n          name: undefined,\n        },\n        pageInfo: {\n          page: 1,\n          limit: 100\n        },\n        DialogVisible: false,\n        dialogFormVisible: false,  //新增修改弹出框\n        dialogStatus: '',\t  //弹出框 显示隐藏控制\n      }\n    },\n    created() {\n      this.getList()\n    },\n    methods: {\n      getList() {\n        this.listLoading = true\n        dictDetailList(this.listQuery, this.pageInfo).then(response => {\n          this.list = response.data.records\n          this.total = response.data.total\n          setTimeout(() => {\n            this.listLoading = false\n          }, 1 * 1000)\n        })\n      },\n      handleFilter() {\n        this.pageInfo.page = 1\n        this.getList()\n      },\n      handleTest(row) {\n        this.$confirm('是否自动测试该活动?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'info',\n        }).then(async () => {\n          this.$message({type: 'success', message: '请稍等，测试完成后您将会在企微收到测试报告！'})\n          await autoTest({\"id\":row.id});\n          this.getList();\n        }).catch(() => {\n          // this.$message({type: 'success', message: '已取消'})\n        })\n      },\n      handleSuite() {\n        this.$confirm('是否一键测试所有活动?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'info',\n        }).then(async () => {\n          this.$message({type: 'success', message: '请稍等，测试完成后您将会在企微收到测试报告！'})\n          await autoSuite();\n          this.getList();\n        }).catch(() => {\n          // this.$message({type: 'success', message: '已取消'})\n        })\n      },\n      // handleSuite() {\n      //   this.dialogStatus = 'create'\n      //   this.dialogFormVisible = true\n      // },\n      testSuite() {\n        // this.$refs['dataForm'].validate(async () =>{\n        //     this.dialogFormVisible = false\n        //     if(this.temp.adjure=='')\n        //     {this.$message({type: 'success', message: '稍后将会在企业微信群聊中发送测试报告'})}\n        //     else\n        //     {this.$message({type: 'success', message: '将在设置的时间运行，并在企业微信群聊中发送测试报告'})}\n        //     await autoSuite(this.temp)\n        //     this.getList()\n        //   })\n      },\n    }\n  }\n</script>\n"]}]}